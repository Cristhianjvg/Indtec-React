exports.id=151,exports.ids=[151],exports.modules={5685:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},16146:(a,b,c)=>{Promise.resolve().then(c.bind(c,86750))},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(75338);c(82704);var e=c(86750);let f={title:"INDTEC - Congreso Internacional",description:"Congreso Internacional de Investigaci\xf3n y Desarrollo Tecnol\xf3gico",generator:"v0.app"};function g({children:a}){return(0,d.jsx)("html",{lang:"es",children:(0,d.jsxs)("body",{className:"font-sans antialiased",children:[a,(0,d.jsx)(e.default,{})]})})}},39706:(a,b,c)=>{Promise.resolve().then(c.bind(c,99351))},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},47541:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},82704:()=>{},86750:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\crist\\\\Desktop\\\\ists - cris\\\\indetect-pagina\\\\components\\\\chatbot\\\\index.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\crist\\Desktop\\ists - cris\\indetect-pagina\\components\\chatbot\\index.tsx","default")},99351:(a,b,c)=>{"use strict";c.d(b,{default:()=>q});var d=c(21124);class e{async hash(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("")}async generateHeaderID(){let a=[];try{if(a.push(navigator.userAgent),a.push(navigator.platform),a.push(navigator.product),a.push(navigator.productSub),a.push(navigator.vendor),a.push(navigator.vendorSub),a.push(navigator.plugins?.length??0),navigator.plugins){let b=[];for(let a=0;a<navigator.plugins.length;a++)b.push(navigator.plugins[a]?.name??"");a.push(b.join("|"))}else a.push("");if(a.push(navigator.mimeTypes?.length??0),navigator.mimeTypes){let b=[];for(let a=0;a<navigator.mimeTypes.length;a++)b.push(navigator.mimeTypes[a]?.type??"");a.push(b.join("|"))}else a.push("");a.push(navigator.languages??[]),a.push(navigator.hardwareConcurrency??0);let b=0;for(let a in navigator)Object.prototype.hasOwnProperty.call(navigator,a)&&b++;a.push(b)}catch{}return this.hash(JSON.stringify(a))}async generateCanvasID(){try{let a=document.createElement("canvas");a.height=100,a.width=800;let b=a.getContext("2d");b&&(b.font="30px Arial",b.fillText("Hello World",20,90));let c=a.toDataURL();return this.hash(c)}catch{return this.hash("canvas-fallback")}}async generateWebGlID(){try{let a=document.createElement("canvas"),b=a.getContext("webgl2")||a.getContext("webgl"),c=[];if(b)try{let a=b.getParameter(7937),d=b.getParameter(7936);if(c.push(String(a)),c.push(String(d)),b.getExtension("WEBGL_debug_renderer_info")){let a=b.getParameter(37446),d=b.getParameter(37445);c.push(String(a)),c.push(String(d))}}catch{}return this.hash(JSON.stringify(c))}catch{return this.hash("webgl-fallback")}}async getIPAddress(){try{let a=await fetch("https://api.ipify.org?format=json"),b=await a.json();return localStorage.setItem("KEY_DEVICE_ADDRESS",b.ip),b.ip||"0.0.0.0"}catch{return"0.0.0.0"}}async completeID(){let[a,b,c,d]=await Promise.all([this.generateHeaderID(),this.generateCanvasID(),this.generateWebGlID(),this.getIPAddress()]);return this.hash(a+b+c+d)}}var f=c(38301),g=c(42378),h=c(45798),i=c(18954),j=c(55056),k=c(10578);let l=({chat:a})=>{let b="model"===a.role;return(0,d.jsxs)("div",{className:`flex gap-3 items-start ${!b?"flex-row-reverse":""}`,children:[(0,d.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${b?"bg-[#0d475b]":"bg-[#ff6b35]"}`,children:b?(0,d.jsx)(j.A,{className:"w-4 h-4 text-white"}):(0,d.jsx)(k.A,{className:"w-4 h-4 text-white"})}),(0,d.jsx)("div",{className:`rounded-lg p-3 shadow-sm max-w-[80%] ${b?"bg-white rounded-tl-none":"bg-[#ff6b35] text-white rounded-tr-none"}`,children:(0,d.jsx)("div",{className:`text-sm prose prose-sm max-w-none ${!b?"prose-invert":""}`,children:(0,d.jsx)(h.oz,{remarkPlugins:[i.A],components:{ul:({...a})=>(0,d.jsx)("ul",{className:"list-disc ml-4 my-2",...a}),ol:({...a})=>(0,d.jsx)("ol",{className:"list-decimal ml-4 my-2",...a}),strong:({...a})=>(0,d.jsx)("strong",{className:"font-bold",...a}),code:({inline:a,...b})=>a?(0,d.jsx)("code",{className:"bg-gray-100 text-gray-800 px-1 py-0.5 rounded text-xs",...b}):(0,d.jsx)("code",{className:"block bg-gray-100 text-gray-800 p-2 rounded text-xs overflow-x-auto",...b}),p:({...a})=>(0,d.jsx)("p",{className:"mb-2 last:mb-0",...a})},children:a.text||""})})})]})};var m=c(71563);let n=({chatHistory:a,setChatHistory:b,generateBotResponse:c})=>{let e=(0,f.useRef)(null),g=async d=>{d.preventDefault();let f=e.current?.value.trim();f&&(e.current&&(e.current.value=""),b(a=>[...a,{role:"user",text:f}]),setTimeout(()=>b(a=>[...a,{role:"model",text:"Thinking..."}]),300),await c([...a,{role:"user",text:f}]))};return(0,d.jsxs)("form",{onSubmit:g,className:"flex gap-2 items-center",children:[(0,d.jsx)("input",{type:"text",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0d475b] focus:border-transparent text-sm",placeholder:"Escribe un mensaje...",ref:e}),(0,d.jsx)("button",{type:"submit",className:"bg-[#ff6b35] hover:bg-[#e55a2a] text-white rounded-lg p-2 transition-colors flex items-center justify-center",children:(0,d.jsx)(m.A,{className:"h-5 w-5"})})]})},o=()=>(0,d.jsx)(j.A,{className:"w-6 h-6 text-white"});async function p(){try{let a=new e,b=await a.completeID();localStorage.setItem("KEY_ID_DEVICE",b)}catch(a){console.warn("Error inicializando ID del dispositivo:",a),localStorage.setItem("KEY_ID_DEVICE",navigator.userAgent||"unknown")}}let q=()=>{let a=function(a){return a.includes("/indtec")?["INDTEC"]:a.includes("/congreso")?["CONGRESO"]:a.includes("/tarifa")?["TARIFA"]:a.includes("/trabajos")?["TRABAJOS"]:a.includes("/eventos")?["EVENTOS"]:[]}((0,g.usePathname)()),[b,c]=(0,f.useState)([]),[e,h]=(0,f.useState)(!1),i=(0,f.useRef)(null),k=async b=>{let d=a=>{c(b=>[...b.filter(a=>"Thinking..."!==a.text),{role:"model",text:a}])};try{let c=localStorage.getItem("KEY_ID_DEVICE")||"unknown",e=localStorage.getItem("KEY_DEVICE_ADDRESS")||"0.0.0.0",f=b[b.length-1],g=await fetch("/api/chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:f.text,idDevice:c,deviceAddress:e,eventFilter:a})});if(!g.ok){let a=await g.json();throw Error(a.error||"Failed to get response")}let h=await g.json(),i=h.response||h.message||"Lo siento, no pude generar una respuesta.";d(i)}catch(a){console.error("Error generating bot response:",a),d("Lo siento, estoy teniendo problemas de conexi\xf3n. Por favor, intenta de nuevo m\xe1s tarde.")}};return(0,f.useEffect)(()=>{p()},[]),(0,f.useEffect)(()=>{i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},[b]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:()=>h(!e),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-[#ff6b35] hover:bg-[#e55a2a] text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110",children:e?(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&(0,d.jsxs)("div",{className:"fixed bottom-24 right-6 z-50 w-96 h-[600px] bg-white rounded-lg shadow-2xl flex flex-col border border-gray-200 animate-in slide-in-from-bottom-4 duration-300",children:[(0,d.jsxs)("div",{className:"bg-[#0d475b] text-white p-4 rounded-t-lg flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-[#0a3845] rounded-full flex items-center justify-center",children:(0,d.jsx)(o,{})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-lg",children:"Chatbot ISTS"}),(0,d.jsx)("p",{className:"text-xs text-blue-100",children:"En l\xednea"})]})]}),(0,d.jsx)("button",{onClick:()=>h(!1),className:"text-white hover:bg-[#0a3845] rounded-full p-1 transition-colors",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,d.jsxs)("div",{ref:i,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,d.jsx)("div",{className:"w-8 h-8 bg-[#0d475b] rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(j.A,{className:"w-4 h-4 text-white"})}),(0,d.jsx)("div",{className:"bg-white rounded-lg rounded-tl-none p-3 shadow-sm max-w-[80%]",children:(0,d.jsxs)("p",{className:"text-sm text-gray-800",children:["\xa1Hola! \uD83D\uDC4B ",(0,d.jsx)("br",{})," \xbfEn qu\xe9 puedo ayudarte hoy?"]})})]}),b.map((a,b)=>(0,d.jsx)(l,{chat:a},b))]}),(0,d.jsx)("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-lg",children:(0,d.jsx)(n,{chatHistory:b,setChatHistory:c,generateBotResponse:k})})]})]})}}};